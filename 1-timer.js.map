{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nconst startBtn = document.querySelector(\"[data-start]\");\nconst dateInput = document.querySelector(\"#datetime-picker\");\n\nstartBtn.disabled = true;\n\nlet userSelectedDate = null;\nlet intervalId = null;\n\nconst options = {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n\n    onClose(selectedDates) {\n    const selected = selectedDates[0];\n\n    if (selected <= new Date()) {\n        startBtn.disabled = true;\n        iziToast.error({\n        title: 'Error',\n        message: 'Please choose a date in the future',\n        position: 'topRight',\n        });\n        return;\n    }\n\n    userSelectedDate = selected;\n    startBtn.disabled = false;\n    },\n};\n\nflatpickr(\"#datetime-picker\", options);\n\nstartBtn.addEventListener(\"click\", () => {\n    startBtn.disabled = true;\n    dateInput.disabled = true;\n\n    intervalId = setInterval(() => {\n    const delta = userSelectedDate - new Date();\n\n    if (delta <= 0) {\n        clearInterval(intervalId);\n        updateTimerUI({ days: 0, hours: 0, minutes: 0, seconds: 0 });\n        dateInput.disabled = false;\n        return;\n    }\n\n    const time = convertMs(delta);\n    updateTimerUI(time);\n    }, 1000);\n});\n\nfunction updateTimerUI({ days, hours, minutes, seconds }) {\n    document.querySelector(\"[data-days]\").textContent = days;\n    document.querySelector(\"[data-hours]\").textContent = addLeadingZero(hours);\n    document.querySelector(\"[data-minutes]\").textContent = addLeadingZero(minutes);\n    document.querySelector(\"[data-seconds]\").textContent = addLeadingZero(seconds);\n    }\n\n    function addLeadingZero(value) {\n    return String(value).padStart(2, \"0\");\n    }\n\n    function convertMs(ms) {\n    const second = 1000;\n    const minute = second * 60;\n    const hour = minute * 60;\n    const day = hour * 24;\n\n    const days = Math.floor(ms / day);\n    const hours = Math.floor((ms % day) / hour);\n    const minutes = Math.floor(((ms % day) % hour) / minute);\n    const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n    return { days, hours, minutes, seconds };\n}"],"names":["startBtn","dateInput","userSelectedDate","intervalId","options","selectedDates","selected","iziToast","flatpickr","delta","updateTimerUI","time","convertMs","days","hours","minutes","seconds","addLeadingZero","value","ms"],"mappings":"+IAOA,MAAMA,EAAW,SAAS,cAAc,cAAc,EAChDC,EAAY,SAAS,cAAc,kBAAkB,EAE3DD,EAAS,SAAW,GAEpB,IAAIE,EAAmB,KACnBC,EAAa,KAEjB,MAAMC,EAAU,CACZ,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EAEjB,QAAQC,EAAe,CACvB,MAAMC,EAAWD,EAAc,CAAC,EAEhC,GAAIC,GAAY,IAAI,KAAQ,CACxBN,EAAS,SAAW,GACpBO,EAAS,MAAM,CACf,MAAO,QACP,QAAS,qCACT,SAAU,UAClB,CAAS,EACD,MACH,CAEDL,EAAmBI,EACnBN,EAAS,SAAW,EACnB,CACL,EAEAQ,EAAU,mBAAoBJ,CAAO,EAErCJ,EAAS,iBAAiB,QAAS,IAAM,CACrCA,EAAS,SAAW,GACpBC,EAAU,SAAW,GAErBE,EAAa,YAAY,IAAM,CAC/B,MAAMM,EAAQP,EAAmB,IAAI,KAErC,GAAIO,GAAS,EAAG,CACZ,cAAcN,CAAU,EACxBO,EAAc,CAAE,KAAM,EAAG,MAAO,EAAG,QAAS,EAAG,QAAS,CAAC,CAAE,EAC3DT,EAAU,SAAW,GACrB,MACH,CAED,MAAMU,EAAOC,EAAUH,CAAK,EAC5BC,EAAcC,CAAI,CACjB,EAAE,GAAI,CACX,CAAC,EAED,SAASD,EAAc,CAAE,KAAAG,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,EAAI,CACtD,SAAS,cAAc,aAAa,EAAE,YAAcH,EACpD,SAAS,cAAc,cAAc,EAAE,YAAcI,EAAeH,CAAK,EACzE,SAAS,cAAc,gBAAgB,EAAE,YAAcG,EAAeF,CAAO,EAC7E,SAAS,cAAc,gBAAgB,EAAE,YAAcE,EAAeD,CAAO,CAC5E,CAED,SAASC,EAAeC,EAAO,CAC/B,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACnC,CAED,SAASN,EAAUO,EAAI,CAMvB,MAAMN,EAAO,KAAK,MAAMM,EAAK,KAAG,EAC1BL,EAAQ,KAAK,MAAOK,EAAK,MAAO,IAAI,EACpCJ,EAAU,KAAK,MAAQI,EAAK,MAAO,KAAQ,GAAM,EACjDH,EAAU,KAAK,MAASG,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAN,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CAC1C"}